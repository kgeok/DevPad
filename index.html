<!DOCTYPE HTML>
<title>DevPad</title>
<link rel="apple-touch-icon" sizes="180x180" href="https://github.com/kgeok/DevPad/raw/master/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://github.com/kgeok/DevPad/raw/master/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://github.com/kgeok/DevPad/raw/master/icons/favicon-16x16.png">
<link rel="manifest" href="https://github.com/kgeok/DevPad/raw/master/icons/site.webmanifest">
<link rel="mask-icon" href="https://github.com/kgeok/DevPad/raw/master/icons/safari-pinned-tab.svg" color="#d39b35">
<link rel="shortcut icon" href="https://github.com/kgeok/DevPad/raw/master/icons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="https://github.com/kgeok/DevPad/raw/master/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<style type="text/css">

noscript {

color: red;
font-size: large;
margin-top: 1rem;
margin-bottom: 1rem;
display:block;

}

section {

background-color: grey;
padding: 10px;
margin:0 auto;
vertical-align: middle;

}

input[type=button], input[type=submit] {
font-family: 'Segoe UI', Verdana, sans-serif;
background-color: white;
border-radius: 5px;
border: none;
text-align: center;
padding: 5px;

}
input[type=button]:active, input[type=submit]:active {
font-family: 'Segoe UI', Verdana, sans-serif;
background-color: rgb(161, 160, 160);
border-radius: 5px;
border: none;
text-align: center;
padding: 5px;

}

input[type=color] {
font-family: 'Segoe UI', Verdana, sans-serif;
border-radius: 4px;
border: none;
text-align: center;

}
input[type=color]:active {
font-family: 'Segoe UI', Verdana, sans-serif;
border-radius: 4px;
border: none;

}

select {
font-family: 'Segoe UI', Verdana, sans-serif;
border-radius: 4px;
border: none;
text-align: center;
padding: 4px;

}
select:active {
font-family: 'Segoe UI', Verdana, sans-serif;
border-radius: 4px;
border: none;
padding: 4px;

}


@media (prefers-color-scheme: light) {
body {
    justify-content: center;
    text-align: center;
    background-color: #bebebe;
    color: black;
    margin:0 auto;

    }
      a {
      color: black;
      }
      
      a:visited {
      color: black;
      }

      textarea {
      color:black;
      background-color: white;

    }

}

@media (prefers-color-scheme: dark) {
    body {
        justify-content: center;
        text-align: center;
        background-color: #464545;
        color: white;

    }
      a {
      color: white;
      }
      
      a:visited {
      color: white;
      }

      textarea {
      color:white;
      background-color: #252525;
      font-size: 12px;

    }

    }



</style>

<body>
<div align="left">
<center>
<noscript><h3>[!] Enable Scripting to Continue</h3></noscript>
<br/>
<section>
    <input type="button" value="About" onclick="About()" >
    <input type="submit" value="Open" onclick='document.getElementById("fileSelect").click()'/>
    <input type="file" id="fileSelect" accept="application/text" style="display:none" onchange='ImportFile()' />
    <input type="button" value="Save" onclick="Save()" >
    <input type="button" value="Exit" onclick="window.close()" >
    <input type="button" value="Refresh" onclick="location.reload()" >
    <input type="button" value="+" onclick='fontsize("+")' >
    <input type="button" value="O" onclick='fontsize("O")' >
    <input type="button" value="-" onclick='fontsize("-")' >
    <input type="color" id='color' onblur='fontcolor()' >

  <select id="math_picker" name="math_picker">
    <option>Math</option>
    <option>Add</option>
    <option>Subtract</option>
    <option>Multiply</option>
    <option>Divide</option>
    <option>Exponent</option>
    </select>
    <script>
    
    document.getElementById("math_picker").onchange = function(){
    operation = document.getElementById("math_picker").value;
    MathCmd(operation);
    document.getElementById("math_picker").value = "Math";
    }
    
    </script>
    <input type="button" value="Compile" onclick="Compile()"/></input>
</section>
<br/>
<textarea autofocus ="true" name="text" rows="45" cols="80" id="text"></textarea>

<script type="module">

import 'https://cdn.jsdelivr.net/npm/@pwabuilder/pwaupdate';

const el = document.createElement('pwa-update');
document.body.appendChild(el);

</script>

<script>
  var version = "0.5";

  function About()
  {
  alert("DevPad, Version " + version + ", Created by Kevin George");
  alert(navigator.appName + " " +  navigator.appVersion);
  
  }

  function MathCmd(cmd){
  
   var numbers = document.getElementById('text').value;
   var numbersString = document.getElementById('text').toString(10);
   var breaks = (numbers.match(/\n/g)||[]).length;
   var infill = numbers.split("\n");
   var result;

  switch (cmd){

    case "Math":

    //alert("To use the Math Function, enter each number seperated by line and select which operation you want to use.");

    break;

    case "Add":
      result = Number(infill[0]);
      for (i = 1; i < breaks + 1; i++){
      result = result + Number(infill[i]);
      }

      prompt("Result", result);

      break;

      case "Subtract":
      result = Number(infill[0]);
      for (i = 1; i < breaks + 1; i++){
      result = result - Number(infill[i]);
      }

      prompt("Result", result);
      break;

      case "Multiply":
      result = Number(infill[0]);
      for (i = 1; i < breaks + 1; i++){
      result = result * Number(infill[i]);
      }

      prompt("Result", result);
      break;

      case "Divide":
      result = Number(infill[0]);
      for (i = 1; i < breaks + 1; i++){
      result = result / Number(infill[i]);
      }
      prompt("Result", result);
      break;

      case "Exponent":
      result = Number(infill[0]);
      for (i = 1; i < breaks + 1; i++){
      result = result ** Number(infill[i]);
      }
      prompt("Result", result);
      break;

    default:
      
      break;
  }
  
  }

  function fontsize(size){

    if (size == "O"){
      console.log("O");
      document.getElementById("text").style.fontSize = '100%';
      }

    if (size == "+"){
      console.log("+");
      document.getElementById("text").style.fontSize = 'larger';

    }

    if (size == "-"){
      console.log("-");
      document.getElementById("text").style.fontSize = 'smaller';

  }

  }
  function fontcolor() {
    console.log("Changing to: " + document.getElementById("color").value);
    document.getElementById("text").style.color = document.getElementById("color").value;

  }
  
  function ImportFile(){
  
  console.log(document.getElementById("fileSelect").files);
  let Parser = new FileReader();
  
  Parser.readAsText(document.getElementById("fileSelect").files[0]);
  
  Parser.onload = function() {
  document.getElementById("text").value = Parser.result;
  }
  
  }
  
  function Save(){
  
      var a = document.createElement("a");
            a.href = URL.createObjectURL(new Blob([document.getElementById('text').value], {
            type: "application/text"
            }));
  
          a.setAttribute("download", "export.txt");
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
  }
  
  function Compile()
  {
  alert("To return, please refresh the page");
  document.write(document.getElementById('text').value);
  }
  
  </script>

</body>
<br/>

</div>

</center>
</html>